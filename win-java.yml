---
- name: Install Java 13
  hosts: win
  tasks:
    - name: Check Java 13
      win_shell: where javac
      args:
        executable: cmd.exe
      register: java_installed
      ignore_errors: True
    
    - name: Download Java 13 archive
      win_get_url:
        url: https://download.java.net/java/GA/jdk13/5b8a42f3905b406298b72d750b6919f6/33/GPL/openjdk-13_windows-x64_bin.zip
        dest: C:\openjdk13\openjdk-13_windows-x64_bin.zip
      when: java_installed == false

    - name: Extract Java 13 archive
      win_unzip: 
        src: C:\openjdk13\openjdk-13_windows-x64_bin.zip 
        dest: C:\openjdk13
        recurse: yes 
        delete_archive: yes
      when: java_installed == false
    
    - name: Set Java 13 environment
      win_command: JAVA_HOME = C:\openjdk13
      args:
        executable: cmd.exe
      when: java_installed == false

